<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UGoFor | What Could U Go For?</title>
    <link href='http://fonts.googleapis.com/css?family=Economica:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
    <link href="css/foundation.min.css" rel="stylesheet"/>
    <link href="css/main.css" rel="stylesheet"/>
	<link href="css/magnific-popup-modal.css" rel="stylesheet"/>
	<link href="css/iosOverlay.css" rel="stylesheet" >
    <link href="css/signup.css" rel="stylesheet" />	
</head>
<body>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8">

    var pictureSource;   // picture source
    var destinationType; // sets the format of returned value

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready",onDeviceReady,false);

    // device APIs are available
    //
    function onDeviceReady() {
        pictureSource=navigator.camera.PictureSourceType;
        destinationType=navigator.camera.DestinationType;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoDataSuccess(imageData) {
      // Uncomment to view the base64-encoded image data
      // console.log(imageData);

      // Get image handle
      //
      var smallImage = document.getElementById('smallImage');

      // Unhide image elements
      //
      smallImage.style.display = 'block';

      // Show the captured photo
      // The in-line CSS rules are used to resize the image
      //
      smallImage.src = "data:image/jpeg;base64," + imageData;
    }

    // Called when a photo is successfully retrieved
    //
    function onPhotoURISuccess(imageURI) {
      // Uncomment to view the image file URI
      // console.log(imageURI);

      // Get image handle
      //
      var largeImage = document.getElementById('largeImage');

      // Unhide image elements
      //
      largeImage.style.display = 'block';

      // Show the captured photo
      // The in-line CSS rules are used to resize the image
      //
      largeImage.src = imageURI;
    }

    // A button will call this function
    //
    function capturePhoto() {
      // Take picture using device camera and retrieve image as base64-encoded string
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function capturePhotoEdit() {
      // Take picture using device camera, allow edit, and retrieve image as base64-encoded string
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true,
        destinationType: destinationType.DATA_URL });
    }

    // A button will call this function
    //
    function getPhoto(source) {
      // Retrieve image file location from specified source
      navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
        destinationType: destinationType.FILE_URI,
        sourceType: source });
    }

    // Called if something bad happens.
    //
    function onFail(message) {
      alert('Failed because: ' + message);
    }

    </script>
<span id="div_signup">

<div class="wrap">
   
<!-- contact-form -->	
<div class="contact-form" id="dialog">
	<div class="logo">
		<h1>UGoFor</h1>
	</div>	

	<div class="clear"></div>
	<!-- form -->
	<div class="contact_form" name="contact_form">
        <button onclick="capturePhoto();">Capture Photo</button> <br>
        <button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br>
        <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br>
        <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo Album</button><br>
        <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
        <img style="display:none;" id="largeImage" src="" />
    </div>
</div>

</div>

</span>

<span id="feed" style="display:none;">

<div id="test-modal" class="white-popup-block mfp-hide">
    <h1>UGoFor?</h1>
    <p>
        What food could you go for?
    </p>
    Food:<br><input type="text" id="txtSmallComment" name="food" style="width:100%;height:40px;font-size:16px;"><br>
    Place to get it:<br><input type="text" id="txtBigComment" name="description" style="width:100%;height:40px;font-size:16px;"><br><br>    <p>
        <a href="#" class="button success" id="btnPost">Post</a>&nbsp;&nbsp;
        <a href="#" class="button popup-modal-dismiss" id="btnCancel">Cancel</a>
    </p>
</div>

<div class="row page">

    <header id="main_header">
        <nav>
            <h1><a href="#">UGoFor</a></h1>
            <div class="pull-right">
                <span class="icon_nav">
                    <a href="#" class="home-icon"></a>
                    <a href="#test-modal" class="post-icon popup-modal"></a>
                    <a href="#" class="genie-icon"></a>
                </span>
            </div>
        </nav>
    </header>
    <span class="posts" style="display:none">
        <article id="post">
            <img class="avatar" src="" style="float: left" />
            <div class="arrow_box">
                <span class="day pull-right"></span>
            </div>
            <span class="collection"><img class="cover" src=""></span>
            <div class="big-comment">
                <p></p>
                <span class="pull-right">
                    <a href="#" class="read-more"></a>
                    <a href="#" class="heart"></a>
                </span>
            </div>
        </article>
    </span>
</div>

</span>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
<script src="js/pure.js"></script>	
<script src="js/iosOverlay.js"></script>
<script src="js/spin.min.js"></script>	
<script src="js/jquery.magnific-popup.min.js"></script>	
<!------------------------------------>
<script src="js/functions.js"></script>	
<script>
    $(function () {    
   
        $( "#btn_signup" ).click(function() {
        
            $('link[rel=stylesheet][href~="css/signup.css"]').remove();
            $( "#div_signup" ).hide();
            $( "#feed" ).show();
            
            //wire up wait calls
            wireUpWait();

            //pure template engine and ajax call
            ajaxit($('.posts').html());

            //getting users coordinates
            getLocation();

            //wiring up post pop-up, close button and post button
            wireUpPosting();              
        });   

    });
</script>
</body>
</html>